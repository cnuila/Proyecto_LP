%aulas 62
aula(nh101,28,12).
aula(nh102,38,12).
aula(nh103,25,15).
aula(nh104,40,10).
aula(nh105,40,10).

aula(nh106,28,10).
aula(nh107,30,12).
aula(nh108,25,9).
aula(nh109,30,12).
aula(nh110,25,9).

aula(m2101,23,8).
aula(m2102,28,11).
aula(m2103,26,8).
aula(m2104,32,19).
aula(m2105,31,13).

aula(m2106,23,14).
aula(m2107,30,15).
aula(m2108,36,10).
aula(m2109,29,7).
aula(m2110,21,8).

aula(etaa2101,28,12).
aula(etaa2102,38,12).
aula(etaa2103,25,15).
aula(etaa2104,20,10).
aula(etaa2105,30,10).

aula(etaa2106,28,10).
aula(etaa2107,30,12).
aula(etaa2108,15,9).
aula(etaa2109,30,12).
aula(etaa2110,25,9).

aula(etb101,23,8).
aula(etb102,27,11).
aula(etb103,26,8).
aula(etb104,18,9).
aula(etb105,31,19).

aula(etb106,28,12).
aula(etb107,38,12).
aula(etb108,25,15).
aula(etb109,35,15).
aula(etb110,40,25).

aula(hta101,31,7).
aula(hta102,20,0).
aula(hta103,25,10).
aula(hta104,30,6).
aula(hta105,31,8).

aula(hta106,15,4).
aula(hta107,50,20).
aula(hta108,20,7).
aula(hta109,23,10).
aula(hta110,17,2).

aula(jpa101,23,10).
aula(jpa102,40,20).
aula(jpa103,47,13).
aula(jpa104,19,6).
aula(jpa105,26,7).

aula(jpa106,40,15).
aula(jpa107,33,11).
aula(jpa108,15,0).
aula(jpa109,22,4).
aula(jpa110,31,15).
aula(jpa111,18,2).
aula(jpa112,34,15).

%estudiantes 72

estudiante(2000100001, 1, [math101, phys201, ec201]).
estudiante(2000100002, 1, [math101, cmpe150, hist301]).
estudiante(2000100003, 1, [math101, ec201, hist301]).
estudiante(2000100004, 0, [phys201, hist301]).
estudiante(2000100005, 1, [ec201]).
estudiante(2000100006, 0, [math101, phys201]).
estudiante(2000100007, 0, [math101, phys201, hist301,cmpe150]).
estudiante(2000100008, 1, [math101]).
estudiante(2000100019, 0, [cmpe150, ec201]).
estudiante(2000100010, 1, []).

estudiante(2000100011, 1, [phys201, ec201]).
estudiante(2000100012, 1, [math101, ec201, hist301]).
estudiante(2000100013, 1, [math101, cmpe150]).
estudiante(2000100014, 0, [phys201, hist301,ec201]).
estudiante(2000100015, 1, [ec201,math101]).
estudiante(2000100016, 0, [math101, phys201]).
estudiante(2000100017, 0, [cmpe150]).
estudiante(2000100018, 1, []).
estudiante(2000100019, 0, [phys201, ec201,hist301,math101]).
estudiante(2000100020, 1, [hist301]).

estudiante(2000100021, 0, [math101]).
estudiante(2000100022, 1, [math101, ec201, hist301]).
estudiante(2000100023, 0, [phys201, cmpe150]).
estudiante(2000100024, 1, []).
estudiante(2000100025, 0, [hist301]).
estudiante(2000100026, 1, [ec201,math101,cmpe150]).

estudiante(2000100027, 1, [phys201, ec201]).
estudiante(2000100028, 1, [ux101, cmpe150, math101]).
estudiante(2000100029, 0, [phys202, ec201, math201]).
estudiante(2000100030, 0, [phys202, hist301]).
estudiante(2000100031, 1, [ec201]).
estudiante(2000100032, 0, [ux101]).
estudiante(2000100033, 0, [math101, phys201, hist301,cmpe150]).
estudiante(2000100034, 1, [ux101, phys202, hist301,cmpe150]).
estudiante(2000100035, 0, [cmpe150, ec201]).
estudiante(2000100036, 1, [cmpe150]).

estudiante(2000100037, 1, [math101, phys202, hist301]).
estudiante(2000100038, 0, [math101, phys201, ux101]).
estudiante(2000100039, 1, [math201, ec201, hist301]).
estudiante(2000100040, 1, [phys202, ec201]).
estudiante(2000100041, 1, [hist301]).
estudiante(2000100042, 1, [math101, phys201]).
estudiante(2000100043, 0, [math101, phys201, hist301,cmpe150]).
estudiante(2000100044, 1, [phys202]).
estudiante(2000100045, 0, [ux101, ec201]).
estudiante(2000100046, 1, []).

estudiante(2000100047, 1, [math101]).
estudiante(2000100048, 1, [math201, phys202, ux101]).
estudiante(2000100049, 0, [math101, ec201, cmpe150]).
estudiante(2000100050, 0, [phys201, ec201]).
estudiante(2000100051, 0, [math201, phys202, ux101]).
estudiante(2000100052, 0, [math101, ec201]).
estudiante(2000100053, 0, [math101, phys201, hist301,cmpe150]).
estudiante(2000100054, 1, [math201]).
estudiante(2000100055, 0, [cmpe150, ux101]).
estudiante(2000100056, 1, [math201,phys202]).

estudiante(2000100057, 0, [math201, ux101, ec201]).
estudiante(2000100058, 1, [math201, ec201, phys202]).
estudiante(2000100059, 1, [math201, phys202, hist301]).
estudiante(2000100060, 0, [phys201, hist301]).
estudiante(2000100061, 0, [ux101]).
estudiante(2000100062, 0, [math101, phys202]).
estudiante(2000100063, 0, [math101, phys201, hist301,cmpe150]).
estudiante(2000100064, 1, [math101]).
estudiante(2000100065, 1, [cmpe150, ec201]).
estudiante(2000100066, 1, [cmpe150,ux101]).

estudiante(2000100067, 1, [math101, phys201, ec201]).
estudiante(2000100068, 1, [math101, phys202]).
estudiante(2000100069, 1, [math101, ec201, hist301]).
estudiante(2000100070, 0, [hist301]).
estudiante(2000100071, 1, [math101,hist301]).
estudiante(2000100072, 0, [ux101, phys201]).

%mas estudiantes 58
estudiante(2000100001, 1, [math101,phys201,hist301]) .
estudiante(2100100001, 0, [phys201,ec201,cmpe150]) .
estudiante(2200100001, 1, [ec201,hist301]) .
estudiante(2300100001, 0, [math101,cmpe150]) .
estudiante(2400100001, 1, [hist301,cmpe150]) .
estudiante(2500100001, 0, [phys201]) .
estudiante(2600100001, 1, [math101,hist301]) .
estudiante(2700100001, 0, [ec201,cmpe150]) .
estudiante(2800100001, 1, [hist301]) .
estudiante(2900100001, 0, [math101, phys201]) .
estudiante(2010100001, 1, [ec201,hist301]) .
estudiante(2020100001, 0, [math101,cmpe150]) .
estudiante(2030100001, 1, []) .
estudiante(2040100001, 0, [phys201,hist301]) .
estudiante(2050100001, 1, [math101, ec201,cmpe150]) .
estudiante(2000101001, 1, [math201,ux101,cmpe150]) .
estudiante(2000102001, 1, [math101,ec201]) .
estudiante(2000103001, 1, [math201,phys201,ux101]) .

estudiante(2000104001, 0, [phys202,hist301,cmpe150]) .
estudiante(2000105001, 0, [hist301,ux101]) .
estudiante(2000106001, 0, [math201,phys202,hist301]) .
estudiante(2000107001, 1, [math201,phys201]) .
estudiante(2000108001, 0, [phys202,hist301]) .
estudiante(2000109001, 0, [math101,ux101,cmpe150]) .
estudiante(2000100101, 1, [hist301,ec201]) .
estudiante(2000101201, 0, [math101,hist301]) .
estudiante(2000101231, 1, [phys201,ux101,ec201]) .
estudiante(2000100131, 1, [math201,cmpe150]) .

estudiante(2000114001, 1, [phys201,ec201]) .
estudiante(2001153001, 0, [phys202,cmpe150]) .
estudiante(2000103501, 1, [math201,phys202,hist301]) .
estudiante(2000103601, 0, [phys201,ux101,cmpe150]) .
estudiante(2000103701, 1, [phys202,hist301]) .
estudiante(2000103801, 1, [math101,phys201,hist301]) .
estudiante(2000103901, 1, [phys201,ux101]) .
estudiante(2000104001, 0, [phys201,hist301,ec201]) .
estudiante(2000104101, 1, [phys202,ux101]) .
estudiante(2000104201, 0, [phys202,ux101,cmpe150]) .

estudiante(2000111101, 0, [hist301,ux101]) .
estudiante(2000112301, 0, [math101,phys201,hist301]) .
estudiante(2000113001, 0, [phys201,ux101,ec201]) .
estudiante(2000105601, 0, [math201,hist301]) .
estudiante(2000105701, 1, [math201,ux101,cmpe150]) .
estudiante(2000105801, 0, [phys201,ec201]) .
estudiante(2000105901, 0, [math201,phys201,hist301]) .
estudiante(2000106601, 1, [math101,hist301,ux101]) .
estudiante(2000106701, 1, [hist301]) .
estudiante(2000106801, 0, [math201,hist301]) .

estudiante(2134100001, 0, [hist301]) .
estudiante(2524100001, 0, [hist301]) .
estudiante(2983100001, 1, [phys202,hist301]) .
estudiante(2874100001, 0, [math201,phys201,hist301]) .
estudiante(2672100001, 1, [math101,phys201,hist301]) .
estudiante(2222100001, 1, [hist301]) .
estudiante(2331100001, 0, [phys201,hist301]) .
estudiante(2937700001, 0, [phys202]) .
estudiante(2988100001, 1, [hist301,ux101,ec201]) .
estudiante(2696916901, 0, [math201,phys202,cmpe150]) .
%fecha examenes 8

fechaexam(cmpe150, ['15.04.2018', '25.05.2018', '04.06.2018']).
fechaexam(math101, ['17.04.2018', '15.05.2018', '04.06.2018']).
fechaexam(phys201, ['15.04.2018', '19.05.2018', '05.06.2018']).
fechaexam(ec201, ['16.04.2018', '20.05.2018', '02.06.2018']).
fechaexam(hist301, ['14.04.2018', '21.05.2018', '01.06.2018']).
fechaexam(math201, ['16.04.2020', '20.05.2020', '02.06.2020']).
fechaexam(ux101, ['14.04.2019', '21.05.2019', '01.06.2019']).
fechaexam(phys202, ['16.04.2021', '20.05.2021', '02.06.2021']).

%PARTE1  lista_estudiantes
lista_estudiantes(S,L) :-setof(M,find(M,S),L).
find(M,none) :-estudiante(M,_,[]).       
find(M,S) :-estudiante(M,_,L),member(S,L).

%PASO2 Inciso 2

lista_fechas(ID,L):- estudiante(ID,_,L2), recorrerCursos(L2,L).

recorrerCursos([],[]).
recorrerCursos([X|Y],[W|Z]):- 
    fechas(X,W), recorrerCursos(Y,Z).

fechas(X,L):- fechaexam(X,L3), agregarLista(L3,L).

agregarLista([],[]).
agregarLista([X|Y],[W|Z]):-
    W = X, agregarLista(Y,Z).


%PASO3 Inciso 3

zurdos(S,L):-setof(M,find2(M,S),L).
find2(M,none):-estudiante(M,_,[]).
find2(M,S):-estudiante(M,0,L),member(S,L).

len([],0).
len([_|Xs],L):- len(Xs,L2),L is L2+1.

aulas(L,N):- findall(X,(aula(X,_,Z),Z>=N),L).

aula_adecuadas(IDC,L):- zurdos(IDC,L2), len(L2,N), aulas(L,N).













